<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Smart Parlay Builder</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 20px; padding: 40px; }
        .header { text-align: center; margin-bottom: 40px; }
        .header h1 { font-size: 2.5em; color: #2a5298; margin-bottom: 10px; }
        .scenarios { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .scenario-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 3px solid #dee2e6;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .scenario-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 10px 30px rgba(102,126,234,0.3);
        }
        .scenario-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%);
        }
        .scenario-icon { font-size: 3em; margin-bottom: 15px; }
        .scenario-title { font-size: 1.5em; font-weight: bold; color: #2a5298; margin-bottom: 5px; }
        .scenario-subtitle { color: #6c757d; margin-bottom: 15px; }
        .scenario-desc { color: #495057; line-height: 1.6; margin-bottom: 15px; }
        .payout-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            text-align: center;
            font-weight: bold;
        }
        .results { display: none; margin-top: 40px; }
        .results.active { display: block; }
        .parlay-section {
            background: linear-gradient(135deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%);
            border: 2px solid #667eea;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .parlay-title { font-size: 1.8em; color: #2a5298; margin-bottom: 20px; }
        .leg { background: white; padding: 15px; border-radius: 10px; margin-bottom: 10px; border-left: 4px solid #667eea; }
        .leg strong { color: #2a5298; }
        .hedges { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-top: 30px; }
        .hedge-card { background: #f8f9fa; border: 2px solid #dee2e6; border-radius: 15px; padding: 25px; }
        .hedge-title { font-size: 1.3em; color: #2a5298; margin-bottom: 10px; }
        .hedge-logic { background: #fff3cd; border-left: 3px solid #ffc107; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .changes { background: white; padding: 15px; border-radius: 10px; margin: 15px 0; }
        .change-out { color: #dc3545; text-decoration: line-through; }
        .change-in { color: #28a745; font-weight: 600; }
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            margin: 10px;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102,126,234,0.4); }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèà NFL Smart Parlay Builder</h1>
            <p>Steelers @ Chargers ‚Ä¢ Monday 8:20 PM ET</p>
        </div>
        
        <h2 style="text-align:center; margin-bottom:30px;">Choose Your Game Script Scenario</h2>
        
        <div class="scenarios" id="scenarios"></div>
        
        <div class="results" id="results">
            <div class="parlay-section">
                <div class="parlay-title" id="mainTitle"></div>
                <div id="mainLegs"></div>
                <div style="text-align:center; margin-top:20px; font-size:1.3em; color:#28a745;" id="mainPayout"></div>
            </div>
            
            <h2 style="margin-bottom:20px;">üõ°Ô∏è Smart Hedge Alternatives</h2>
            <div class="hedges" id="hedges"></div>
            
            <div style="text-align:center; margin-top:30px;">
                <button class="btn" onclick="exportCSV()">üì• Export All to CSV</button>
                <button class="btn" onclick="reset()">üîÑ Choose Different Scenario</button>
            </div>
        </div>
    </div>
    
    <script>
        const props = {
            'herbert-pass': {p:'Justin Herbert',t:'LAC',s:'Passing Yards',l:259.5,a:265.6},
            'herbert-comp': {p:'Justin Herbert',t:'LAC',s:'Completions',l:24.5,a:27.1},
            'mcconkey-rec': {p:'Ladd McConkey',t:'LAC',s:'Receiving Yards',l:56.5,a:58.2},
            'mcconkey-catch': {p:'Ladd McConkey',t:'LAC',s:'Receptions',l:4.5,a:5.2},
            'johnston-rec': {p:'Quentin Johnston',t:'LAC',s:'Receiving Yards',l:52.5,a:65.7},
            'vidal-rush': {p:'Kimani Vidal',t:'LAC',s:'Rushing Yards',l:42.5,a:51.8},
            'rodgers-pass': {p:'Aaron Rodgers',t:'PIT',s:'Passing Yards',l:215.5,a:211.5},
            'rodgers-comp': {p:'Aaron Rodgers',t:'PIT',s:'Completions',l:20.5,a:23.2},
            'metcalf-rec': {p:'DK Metcalf',t:'PIT',s:'Receiving Yards',l:49.5,a:58.4},
            'metcalf-catch': {p:'DK Metcalf',t:'PIT',s:'Receptions',l:3.5,a:3.6},
            'warren-rush': {p:'Jaylen Warren',t:'PIT',s:'Rushing Yards',l:48.5,a:57.7},
            'warren-rec': {p:'Jaylen Warren',t:'PIT',s:'Receiving Yards',l:22.5,a:27.6},
            'gadsden-rec': {p:'Oronde Gadsden II',t:'PIT',s:'Receiving Yards',l:52.5,a:58.0}
        };
        
        const scenarios = [
            {
                id: 'safe',
                icon: 'üéØ',
                title: 'Conservative Cushion',
                subtitle: 'Bet Under Season Averages',
                desc: 'Pure statistical play. Every prop is below season average. Highest probability.',
                legs: ['herbert-pass','johnston-rec','vidal-rush','rodgers-comp','metcalf-rec','warren-rush'],
                hedges: [
                    {t:'If Top Players Underperform',l:'Secondary targets become primary.',s:[['johnston-rec','mcconkey-rec'],['metcalf-rec','gadsden-rec']]},
                    {t:'If Game Goes Pass-Heavy',l:'Teams abandon run early.',s:[['vidal-rush','herbert-comp'],['warren-rush','rodgers-pass']]},
                    {t:'If Run Game Dominates',l:'Both teams control clock.',s:[['herbert-pass','mcconkey-catch'],['rodgers-comp','warren-rec']]}
                ]
            },
            {
                id: 'pass',
                icon: 'üöÄ',
                title: 'Chargers Dominate',
                subtitle: 'Pass-Heavy Blowout',
                desc: 'LAC jumps ahead early. Herbert throws all game. PIT plays catch-up unsuccessfully.',
                legs: ['herbert-pass','herbert-comp','mcconkey-rec','johnston-rec','metcalf-rec','rodgers-comp'],
                hedges: [
                    {t:'If Pass Game Stalls',l:'Both teams pivot to run.',s:[['johnston-rec','vidal-rush'],['metcalf-rec','warren-rush']]},
                    {t:'If Game Stays Close',l:'Both teams stay aggressive.',s:[['johnston-rec','rodgers-pass'],['rodgers-comp','metcalf-catch']]},
                    {t:'If WR2s Dont Deliver',l:'TEs/RBs become safety valves.',s:[['johnston-rec','warren-rec'],['metcalf-rec','gadsden-rec']]}
                ]
            },
            {
                id: 'rush',
                icon: 'üèÉ',
                title: 'Ground & Pound',
                subtitle: 'Rush-Heavy Battle',
                desc: 'Low-scoring grinder. Both teams establish run. Clock control game.',
                legs: ['warren-rush','vidal-rush','rodgers-pass','herbert-comp','gadsden-rec','mcconkey-catch'],
                hedges: [
                    {t:'If Run Defense Holds',l:'Game becomes pass-heavy.',s:[['warren-rush','metcalf-rec'],['vidal-rush','johnston-rec']]},
                    {t:'If One Team Breaks Out',l:'One offense finds air rhythm.',s:[['gadsden-rec','herbert-pass'],['mcconkey-catch','rodgers-comp']]},
                    {t:'If Check-Down Heavy',l:'Short passes, fewer yards.',s:[['rodgers-pass','warren-rec'],['herbert-comp','mcconkey-rec']]}
                ]
            },
            {
                id: 'shoot',
                icon: 'üí•',
                title: 'High-Scoring Shootout',
                subtitle: 'Both Offenses Pop',
                desc: 'Back-and-forth scoring. Both QBs have big games. 50+ total points.',
                legs: ['herbert-pass','rodgers-pass','mcconkey-rec','metcalf-rec','johnston-rec','warren-rec'],
                hedges: [
                    {t:'If One QB Struggles',l:'Only one offense pops.',s:[['rodgers-pass','vidal-rush'],['metcalf-rec','herbert-comp']]},
                    {t:'If Run Game Opens',l:'Play-action leads to rush TDs.',s:[['johnston-rec','warren-rush'],['warren-rec','vidal-rush']]},
                    {t:'If Slot/TE Dominate',l:'Outside WRs get taken away.',s:[['johnston-rec','mcconkey-catch'],['metcalf-rec','gadsden-rec']]}
                ]
            },
            {
                id: 'upset',
                icon: '‚ö°',
                title: 'Upset Special',
                subtitle: 'Underdogs Shine',
                desc: 'Game script flips. Backups deliver. Favorites underperform.',
                legs: ['rodgers-pass','warren-rush','warren-rec','gadsden-rec','vidal-rush','mcconkey-catch'],
                hedges: [
                    {t:'If Steelers Stall',l:'LAC controls but doesnt blow out.',s:[['rodgers-pass','herbert-comp'],['warren-rush','mcconkey-rec']]},
                    {t:'If Chargers Dominate',l:'Favorites live up to billing.',s:[['warren-rush','herbert-pass'],['gadsden-rec','johnston-rec']]},
                    {t:'If Defensive Battle',l:'Only safest props hit.',s:[['rodgers-pass','rodgers-comp'],['warren-rec','metcalf-catch']]}
                ]
            }
        ];
        
        let selected = null;
        
        function init() {
            const html = scenarios.map((sc,i) => {
                const legs = sc.legs.map(k=>props[k]);
                const mult = Math.pow(1.556, legs.length);
                return `<div class="scenario-card" onclick="select(${i})">
                    <div class="scenario-icon">${sc.icon}</div>
                    <div class="scenario-title">${sc.title}</div>
                    <div class="scenario-subtitle">${sc.subtitle}</div>
                    <div class="scenario-desc">${sc.desc}</div>
                    <div class="payout-badge">${mult.toFixed(1)}x ‚Ä¢ $100 ‚Üí $${(mult*100).toFixed(0)}</div>
                </div>`;
            }).join('');
            document.getElementById('scenarios').innerHTML = html;
        }
        
        function select(i) {
            selected = scenarios[i];
            const sc = selected;
            
            document.querySelectorAll('.scenario-card').forEach((c,idx)=>{
                c.classList.toggle('selected', idx===i);
            });
            
            const legs = sc.legs.map(k=>props[k]);
            const mult = Math.pow(1.556, legs.length);
            
            document.getElementById('mainTitle').textContent = `${sc.icon} ${sc.title} - Main Parlay`;
            document.getElementById('mainLegs').innerHTML = legs.map(l=>{
                const c = l.a - l.l;
                const cp = (c/l.l*100).toFixed(1);
                return `<div class="leg"><strong>${l.p}</strong> (${l.t})<br>${l.s} O${l.l} ‚Ä¢ Avg: ${l.a} ‚Ä¢ +${c.toFixed(1)} (${cp}%)</div>`;
            }).join('');
            document.getElementById('mainPayout').textContent = `üí∞ ${mult.toFixed(1)}x Payout ‚Ä¢ $100 ‚Üí $${(mult*100).toFixed(0)}`;
            
            const hedgesHtml = sc.hedges.map((h,hi)=>{
                const hLegs = [...sc.legs];
                h.s.forEach(([out,in_])=>{
                    const idx = hLegs.indexOf(out);
                    if(idx>-1) hLegs[idx]=in_;
                });
                const hm = Math.pow(1.556, hLegs.length);
                const changes = h.s.map(([out,in_])=>{
                    const o=props[out], i=props[in_];
                    return `<span class="change-out">‚úó ${o.p} ${o.s}</span><br><span class="change-in">‚úì ${i.p} ${i.s} O${i.l}</span>`;
                }).join('<br>');
                return `<div class="hedge-card">
                    <div class="hedge-title">Hedge ${hi+1}: ${h.t}</div>
                    <div class="hedge-logic"><strong>üí° Logic:</strong> ${h.l}</div>
                    <div class="changes">${changes}</div>
                    <div style="text-align:center; font-size:1.2em; color:#28a745; font-weight:bold;">
                        ${hm.toFixed(1)}x ‚Ä¢ $100 ‚Üí $${(hm*100).toFixed(0)}
                    </div>
                </div>`;
            }).join('');
            document.getElementById('hedges').innerHTML = hedgesHtml;
            
            document.getElementById('results').classList.add('active');
            setTimeout(()=>document.getElementById('results').scrollIntoView({behavior:'smooth'}), 100);
        }
        
        function exportCSV() {
            if(!selected) return;
            let csv = 'Parlay,Leg,Player,Team,Stat,Line,Avg,Cushion\n';
            selected.legs.forEach((k,i)=>{
                const l=props[k], c=l.a-l.l;
                csv+=`Main,${i+1},${l.p},${l.t},${l.s},${l.l},${l.a},${c.toFixed(1)}\n`;
            });
            selected.hedges.forEach((h,hi)=>{
                const hLegs=[...selected.legs];
                h.s.forEach(([out,in_])=>{
                    const idx=hLegs.indexOf(out);
                    if(idx>-1)hLegs[idx]=in_;
                });
                hLegs.forEach((k,i)=>{
                    const l=props[k], c=l.a-l.l;
                    csv+=`Hedge${hi+1},${i+1},${l.p},${l.t},${l.s},${l.l},${l.a},${c.toFixed(1)}\n`;
                });
            });
            const blob=new Blob([csv],{type:'text/csv'});
            const a=document.createElement('a');
            a.href=URL.createObjectURL(blob);
            a.download=`parlays_${Date.now()}.csv`;
            a.click();
        }
        
        function reset() {
            selected=null;
            document.getElementById('results').classList.remove('active');
            document.querySelectorAll('.scenario-card').forEach(c=>c.classList.remove('selected'));
            window.scrollTo({top:0,behavior:'smooth'});
        }
        
        init();
    </script>
</body>
</html>
